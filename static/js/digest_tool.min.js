var requests=[],request_digest=function(a){requests[a]&&4>requests[a].readyState&&requests[a].abort();var b="#"+a;requests[a]=$.post("/hash/"+a,{message:$("#message").val()},function(a){$(b).hasClass("text-error")&&$(b).removeClass("text-error");$(b).text(a)}).fail(function(){"abort"!==requests[a].statusText&&($(b).hasClass("text-error")||$(b).addClass("text-error"),$(b).text("ERROR RETRIEVING RESULT"))}).always(function(){$("#loading"+a).hide();$(b).show()});$(b).hide();$("#loading"+a).show()};
$(document).ready(function(){var a=null;$("#message").bind("input propertychange",function(){clearTimeout(a);a=setTimeout(function(){$("input:checkbox:checked").each(function(){request_digest($(this).val())})},300)});$("#checkall").click(function(){$("input:checkbox:not(:checked)").each(function(){$(this).prop("checked",!0);$(this).trigger("change")})});$("#uncheckall").click(function(){$("input:checkbox:checked").each(function(){$(this).prop("checked",!1);$(this).trigger("change")})});$("input:checkbox").change(function(){$(this).is(":checked")?
request_digest($(this).val()):(requests[$(this).val()]&&4>requests[$(this).val()].readyState&&requests[$(this).val()].abort(),$("#"+$(this).val()).html("&nbsp;"))})});